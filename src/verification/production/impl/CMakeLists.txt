add_library(production_lottery
    production_lottery_impl.cpp
    production_lottery_impl.hpp
)
target_link_libraries(production_lottery
    PUBLIC
    Boost::headers
    logger
    sr25519_types
    hasher
    vrf_provider
)

add_library(threshold_util
    threshold_util.cpp
)
target_link_libraries(threshold_util
    PUBLIC
    clock
    primitives
    sr25519_types
)

add_library(production_digests_util
    production_digests_util.cpp
)
target_link_libraries(production_digests_util
    PUBLIC
    clock
    sr25519_types
    primitives
    PRIVATE
    scale
)

add_library(block_executor
    block_executor.cpp
)
target_link_libraries(block_executor
    PUBLIC
    hasher
    logger
    block_tree
    epoch_storage
)

add_library(production
    production_impl.cpp
    production_impl.hpp
)
target_link_libraries(production
    PUBLIC
    Boost::headers
    clock
    buffer
    logger
    sr25519_types
)

add_library(production_synchronizer
    production_synchronizer_impl.cpp
)
target_link_libraries(production_synchronizer
    PUBLIC
    logger
    primitives
)

add_library(syncing_production_observer
    syncing_production_observer.cpp
)
target_link_libraries(syncing_production_observer
    PUBLIC
    block_executor
    PRIVATE
    logger
    primitives
)
