{
  "name": "TestImageEnhancement",
  "version": "1.0.0",
  "gnus_spec_version": 1.0,
  "author": "Test Author",
  "description": "A test processing definition for image enhancement",
  "tags": ["image", "enhancement", "test"],
  
  "inputs": [
    {
      "name": "inputImage",
	  "source_uri_param": "dummy",
      "type": "texture2D",
      "description": "Input image to be enhanced",
      "dimensions": {
        "width": 512,
        "height": 512,
        "channels": 3
      },
      "format": "RGB8"
    }
  ],
  
  "outputs": [
    {
      "name": "enhancedImage",
	  "source_uri_param": "dummy",
      "type": "texture2D",
      "description": "Enhanced output image",
      "dimensions": {
        "width": 512,
        "height": 512,
        "channels": 3
      },
      "format": "RGB8"
    }
  ],
  
  "parameters": [
    {
      "name": "modelUri",
      "type": "uri",
      "default": "models/enhancement_model.mnn",
      "description": "URI to the enhancement model"
    },
    {
      "name": "enhancementStrength",
      "type": "float",
      "default": 1.0,
      "description": "Strength of the enhancement effect",
      "constraints": {
        "min": 0.0,
        "max": 2.0
      }
    }
  ],
  
  "passes": [
    {
      "name": "preprocessing",
      "type": "data_transform",
      "description": "Normalize input image",
      "data_transforms": [
        {
          "type": "normalize",
          "input": "input:inputImage",
          "output": "internal:normalizedInput",
          "params": {
            "mean": [0.485, 0.456, 0.406],
            "std": [0.229, 0.224, 0.225]
          }
        }
      ]
    },
    {
      "name": "enhancement",
      "type": "inference",
      "description": "AI-based image enhancement",
      "model": {
        "source_uri_param": "modelUri",
        "format": "MNN",
        "batch_size": 1,
        "input_nodes": [
          {
            "name": "input",
            "type": "tensor",
            "source": "internal:normalizedInput",
            "shape": [1, 3, 512, 512]
          }
        ],
        "output_nodes": [
          {
            "name": "output",
            "type": "tensor",
            "target": "internal:enhancedFeatures",
            "shape": [1, 3, 512, 512]
          }
        ]
      }
    },
    {
      "name": "postprocessing",
      "type": "data_transform",
      "description": "Denormalize and output final image",
      "data_transforms": [
        {
          "type": "denormalize",
          "input": "internal:enhancedFeatures",
          "output": "output:enhancedImage",
          "params": {
            "mean": [0.485, 0.456, 0.406],
            "std": [0.229, 0.224, 0.225]
          }
        }
      ]
    }
  ],
  
  "metadata": {
    "created_date": "2025-06-09",
    "framework": "GNUS.ai",
    "test_case": true
  }
}