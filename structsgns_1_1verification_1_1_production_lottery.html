<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuperGenius: sgns::verification::ProductionLottery Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SuperGenius<span id="projectnumber">&#160;.01</span>
   </div>
   <div id="projectbrief">SuperGenius Node for cross-platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structsgns_1_1verification_1_1_production_lottery.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structsgns_1_1verification_1_1_production_lottery-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sgns::verification::ProductionLottery Struct Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="production__lottery_8hpp_source.html">production_lottery.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for sgns::verification::ProductionLottery:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structsgns_1_1verification_1_1_production_lottery__inherit__graph.svg" width="182" height="344"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Collaboration diagram for sgns::verification::ProductionLottery:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structsgns_1_1verification_1_1_production_lottery__coll__graph.svg" width="178" height="124"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8b26f4835f1feba4b9f1c6b1ad91e802"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsgns_1_1verification_1_1_production_lottery.html#a8b26f4835f1feba4b9f1c6b1ad91e802">SlotsLeadership</a> = std::vector&lt; boost::optional&lt; <a class="el" href="structsgns_1_1crypto_1_1_v_r_f_output.html">crypto::VRFOutput</a> &gt; &gt;</td></tr>
<tr class="separator:a8b26f4835f1feba4b9f1c6b1ad91e802"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae2eb0426f04597cadb942a6d9c7d43c8"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsgns_1_1verification_1_1_production_lottery.html#ae2eb0426f04597cadb942a6d9c7d43c8">~ProductionLottery</a> ()=default</td></tr>
<tr class="separator:ae2eb0426f04597cadb942a6d9c7d43c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2bec0c035e383f236f9719d7a96652"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structsgns_1_1verification_1_1_production_lottery.html#a8b26f4835f1feba4b9f1c6b1ad91e802">SlotsLeadership</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsgns_1_1verification_1_1_production_lottery.html#abc2bec0c035e383f236f9719d7a96652">slotsLeadership</a> (const <a class="el" href="structsgns_1_1verification_1_1_epoch.html">Epoch</a> &amp;epoch, const <a class="el" href="namespacesgns_1_1verification.html#a5f4398ba2c9b141563737304a38387c6">Threshold</a> &amp;threshold, const <a class="el" href="structsgns_1_1crypto_1_1_s_r25519_keypair.html">crypto::SR25519Keypair</a> &amp;keypair) const =0</td></tr>
<tr class="separator:abc2bec0c035e383f236f9719d7a96652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5e8d971343a6947b78ec2f75c708d6"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacesgns_1_1verification.html#adfb5fe0d5ba9e721d6916110208c3c45">Randomness</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsgns_1_1verification_1_1_production_lottery.html#a7c5e8d971343a6947b78ec2f75c708d6">computeRandomness</a> (const <a class="el" href="namespacesgns_1_1verification.html#adfb5fe0d5ba9e721d6916110208c3c45">Randomness</a> &amp;last_epoch_randomness, <a class="el" href="namespacesgns_1_1verification.html#ab3fec2608ab1cfba61a6e1d17e188886">EpochLength</a> new_epoch_index)=0</td></tr>
<tr class="separator:a7c5e8d971343a6947b78ec2f75c708d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade3fd894b3d7d465a042decb9a472525"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsgns_1_1verification_1_1_production_lottery.html#ade3fd894b3d7d465a042decb9a472525">submitVRFValue</a> (const <a class="el" href="namespacesgns_1_1crypto.html#a33d1993c5945cc2f5e26e174a8be8a4a">crypto::VRFPreOutput</a> &amp;value)=0</td></tr>
<tr class="separator:ade3fd894b3d7d465a042decb9a472525"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Interface for acquiring leadership information for the current <a class="el" href="classsgns_1_1verification_1_1_production.html">Production</a> epoch. It is expected to be used as follows:</p><ul>
<li>first epoch is started, r (randomness) = 0</li>
<li>blocks are being accepted</li>
<li>when a block is finalized, submitVRFValue function is called for each block in the finalized chain up to the last finalized one (in the chronological order). The chain can be retrieved via calling BlockTree::longestPath() firstly and only then BlockTree::finalize(..)</li>
<li>at the end of the epoch, computeRandomness(..) is called, providing a randomness value for the new epoch</li>
<li>that value is then is used in slotsLeadership(..) </li>
</ul>

<p class="definition">Definition at line <a class="el" href="production__lottery_8hpp_source.html#l00026">26</a> of file <a class="el" href="production__lottery_8hpp_source.html">production_lottery.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a8b26f4835f1feba4b9f1c6b1ad91e802" name="a8b26f4835f1feba4b9f1c6b1ad91e802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b26f4835f1feba4b9f1c6b1ad91e802">&#9670;&#160;</a></span>SlotsLeadership</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="structsgns_1_1verification_1_1_production_lottery.html#a8b26f4835f1feba4b9f1c6b1ad91e802">sgns::verification::ProductionLottery::SlotsLeadership</a> =  std::vector&lt;boost::optional&lt;<a class="el" href="structsgns_1_1crypto_1_1_v_r_f_output.html">crypto::VRFOutput</a>&gt; &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="production__lottery_8hpp_source.html#l00029">29</a> of file <a class="el" href="production__lottery_8hpp_source.html">production_lottery.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae2eb0426f04597cadb942a6d9c7d43c8" name="ae2eb0426f04597cadb942a6d9c7d43c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2eb0426f04597cadb942a6d9c7d43c8">&#9670;&#160;</a></span>~ProductionLottery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual sgns::verification::ProductionLottery::~ProductionLottery </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7c5e8d971343a6947b78ec2f75c708d6" name="a7c5e8d971343a6947b78ec2f75c708d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5e8d971343a6947b78ec2f75c708d6">&#9670;&#160;</a></span>computeRandomness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacesgns_1_1verification.html#adfb5fe0d5ba9e721d6916110208c3c45">Randomness</a> sgns::verification::ProductionLottery::computeRandomness </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesgns_1_1verification.html#adfb5fe0d5ba9e721d6916110208c3c45">Randomness</a> &amp;&#160;</td>
          <td class="paramname"><em>last_epoch_randomness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesgns_1_1verification.html#ab3fec2608ab1cfba61a6e1d17e188886">EpochLength</a>&#160;</td>
          <td class="paramname"><em>new_epoch_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Compute randomness for the next epoch </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">last_epoch_randomness</td><td>- randomness of the last epoch </td></tr>
    <tr><td class="paramname">new_epoch_index</td><td>- index of the new epoch </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>computed randomness</dd></dl>
<dl class="section note"><dt>Note</dt><dd>must be called exactly ONCE per epoch, when it gets changed </dd></dl>

<p>Implemented in <a class="el" href="classsgns_1_1verification_1_1_production_lottery_impl.html#a90fd7fda5e7b6836cd7dd6283cd69adb">sgns::verification::ProductionLotteryImpl</a>.</p>

</div>
</div>
<a id="abc2bec0c035e383f236f9719d7a96652" name="abc2bec0c035e383f236f9719d7a96652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc2bec0c035e383f236f9719d7a96652">&#9670;&#160;</a></span>slotsLeadership()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="structsgns_1_1verification_1_1_production_lottery.html#a8b26f4835f1feba4b9f1c6b1ad91e802">SlotsLeadership</a> sgns::verification::ProductionLottery::slotsLeadership </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsgns_1_1verification_1_1_epoch.html">Epoch</a> &amp;&#160;</td>
          <td class="paramname"><em>epoch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesgns_1_1verification.html#a5f4398ba2c9b141563737304a38387c6">Threshold</a> &amp;&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsgns_1_1crypto_1_1_s_r25519_keypair.html">crypto::SR25519Keypair</a> &amp;&#160;</td>
          <td class="paramname"><em>keypair</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Compute leadership for all slots in the given epoch </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">epoch</td><td>is an information about epoch where we calculate leadership </td></tr>
    <tr><td class="paramname">threshold</td><td>is a maximum value that is considered valid by vrf </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vector of outputs; none means the peer was not chosen as a leader for that slot, value contains VRF value and proof </dd></dl>

<p>Implemented in <a class="el" href="classsgns_1_1verification_1_1_production_lottery_impl.html#a28624701327a7835d2f778a65a1e47fd">sgns::verification::ProductionLotteryImpl</a>.</p>

</div>
</div>
<a id="ade3fd894b3d7d465a042decb9a472525" name="ade3fd894b3d7d465a042decb9a472525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade3fd894b3d7d465a042decb9a472525">&#9670;&#160;</a></span>submitVRFValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void sgns::verification::ProductionLottery::submitVRFValue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesgns_1_1crypto.html#a33d1993c5945cc2f5e26e174a8be8a4a">crypto::VRFPreOutput</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Submit a VRF value for this epoch </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>to be submitted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>concatenation of those values is participating in computation of the randomness for the next epoch </dd></dl>

<p>Implemented in <a class="el" href="classsgns_1_1verification_1_1_production_lottery_impl.html#ac4b86bef45fcfd4c63150df804bab7d9">sgns::verification::ProductionLotteryImpl</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/verification/production/<a class="el" href="production__lottery_8hpp_source.html">production_lottery.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesgns.html">sgns</a></li><li class="navelem"><a class="el" href="namespacesgns_1_1verification.html">verification</a></li><li class="navelem"><a class="el" href="structsgns_1_1verification_1_1_production_lottery.html">ProductionLottery</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
